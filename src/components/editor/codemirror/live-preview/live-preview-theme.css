/**
 * Live Preview Theme - CSS-driven rendering for Obsidian-style markdown
 *
 * This theme provides visual styling for markdown elements in Live Preview mode.
 * Uses CSS to render formatting instead of JavaScript widgets where possible.
 */

/* ============================================================================
 * Inline Formatting - CSS-driven rendering
 * ============================================================================ */

/* Bold text */
.cm-strong {
  font-weight: 600;
}

/* Italic text */
.cm-em {
  font-style: italic;
}

/* Inline code */
.cm-inline-code {
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 0.9em;
  background-color: rgba(0, 0, 0, 0.05);
  padding: 0.1em 0.3em;
  border-radius: 3px;
}

.dark .cm-inline-code {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Strikethrough */
.cm-strikethrough {
  text-decoration: line-through;
}

/* Highlight */
.cm-highlight {
  background-color: rgba(255, 255, 0, 0.3);
  padding: 0 0.2em;
}

.dark .cm-highlight {
  background-color: rgba(255, 255, 0, 0.2);
}

/* ============================================================================
 * Links
 * ============================================================================ */

.cm-link {
  color: #0066cc;
  text-decoration: none;
  cursor: pointer;
}

.cm-link:hover {
  text-decoration: underline;
}

.dark .cm-link {
  color: #4da6ff;
}

.cm-wiki-link {
  color: #7c3aed;
  text-decoration: none;
  cursor: pointer;
}

.cm-wiki-link:hover {
  text-decoration: underline;
}

.dark .cm-wiki-link {
  color: #a78bfa;
}

/* ============================================================================
 * Headings
 * ============================================================================ */

.cm-heading {
  font-weight: 600;
  line-height: 1.3;
}

.cm-heading-1 {
  font-size: 2em;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding-bottom: 0.3em;
  margin-top: 0.67em;
  margin-bottom: 0.67em;
}

.cm-heading-2 {
  font-size: 1.5em;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding-bottom: 0.3em;
  margin-top: 0.83em;
  margin-bottom: 0.83em;
}

.cm-heading-3 {
  font-size: 1.25em;
  margin-top: 1em;
  margin-bottom: 1em;
}

.cm-heading-4 {
  font-size: 1.1em;
  margin-top: 1.33em;
  margin-bottom: 1.33em;
}

.cm-heading-5 {
  font-size: 1em;
  margin-top: 1.67em;
  margin-bottom: 1.67em;
}

.cm-heading-6 {
  font-size: 0.9em;
  color: rgba(0, 0, 0, 0.6);
  margin-top: 2.33em;
  margin-bottom: 2.33em;
}

.dark .cm-heading-6 {
  color: rgba(255, 255, 255, 0.6);
}

/* ============================================================================
 * Blockquotes
 * ============================================================================ */

.cm-blockquote {
  border-left: 3px solid rgba(0, 0, 0, 0.2);
  padding-left: 1em;
  margin-left: 0;
  color: rgba(0, 0, 0, 0.7);
}

.dark .cm-blockquote {
  border-left-color: rgba(255, 255, 255, 0.3);
  color: rgba(255, 255, 255, 0.7);
}

/* ============================================================================
 * Lists
 * ============================================================================ */

.cm-list-item {
  padding-left: 0;
}

.cm-list-bullet {
  list-style-type: disc;
}

.cm-list-numbered {
  list-style-type: decimal;
}

.cm-list-marker {
  display: inline-block;
  width: 1.5em;
  text-align: right;
  margin-right: 0.5em;
}

.cm-task-checkbox {
  margin-right: 0.5em;
  cursor: pointer;
}

/* ============================================================================
 * Code Blocks
 * ============================================================================ */

.cm-code-block-line {
  background-color: rgba(0, 0, 0, 0.03);
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 0.9em;
  padding-left: 0.5em;
}

.dark .cm-code-block-line {
  background-color: rgba(255, 255, 255, 0.05);
}

.cm-code-block-editing {
  background-color: rgba(0, 0, 0, 0.05);
}

.dark .cm-code-block-editing {
  background-color: rgba(255, 255, 255, 0.08);
}

.cm-code-block-hidden {
  display: none;
}

/* ============================================================================
 * Tables
 * ============================================================================ */

.cm-table-line {
  background-color: rgba(0, 0, 0, 0.02);
}

.dark .cm-table-line {
  background-color: rgba(255, 255, 255, 0.03);
}

/* ============================================================================
 * Math
 * ============================================================================ */

.cm-math-block-line {
  background-color: rgba(147, 51, 234, 0.05);
  padding: 0.5em;
}

.dark .cm-math-block-line {
  background-color: rgba(147, 51, 234, 0.1);
}

/* ============================================================================
 * Horizontal Rule
 * ============================================================================ */

.cm-hr {
  border: none;
  border-top: 2px solid rgba(0, 0, 0, 0.1);
  margin: 1.5em 0;
}

.dark .cm-hr {
  border-top-color: rgba(255, 255, 255, 0.2);
}

/* ============================================================================
 * Syntax Transitions - Smooth reveal/hide
 * ============================================================================ */

.cm-syntax-transition {
  transition: opacity 0.15s ease-in-out;
}

/* ============================================================================
 * Widget Styling
 * ============================================================================ */

.cm-formatted-widget {
  cursor: text;
}

.cm-superscript {
  vertical-align: super;
  font-size: 0.75em;
}

.cm-subscript {
  vertical-align: sub;
  font-size: 0.75em;
}

.cm-footnote-ref {
  color: #0066cc;
  cursor: pointer;
}

.dark .cm-footnote-ref {
  color: #4da6ff;
}
